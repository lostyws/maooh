!function(t){function a(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}var e={};return a.m=t,a.c=e,a.p="./",a(0)}({0:function(t,a,e){t.exports=e(47)},47:function(t,a){function e(){function t(t){t=t.toString().replace(/\$|\,/g,""),isNaN(t)&&(t="0");var a=t==(t=Math.abs(t));t=Math.floor(100*t+.50000000001);var e=t%100;t=Math.floor(t/100).toString(),e<10&&(e="0"+e);for(var i=0;i<Math.floor((t.length-(1+i))/3);i++)t=t.substring(0,t.length-(4*i+3))+","+t.substring(t.length-(4*i+3));return(a?"":"-")+t+"."+e}function a(t){var a=$(".ichecks").attr("data-icheck-info");a=JSON.parse(a);var e;return $.each(a.data,function(a,i){i.name==t[0]&&(i.ch?$.each(i.ch,function(a,i){i.name==t[1]&&(i.ch?$.each(i.ch,function(a,i){i.name==t[2]&&(e=i)}):e=i)}):e=i)}),e}function e(a){function e(t){$.ajax({url:"/uc/address/getaddr/id/"+t,success:function(t){if(0==t.errno){var a=t.data.data,e='<p class="size-14 margin-bottom-6"><strong>寄送至：</strong>'+a.province+" "+a.city+" "+a.county+" "+a.addr+'</p> <p class="size-14"><strong>收货人：</strong>'+a.accept_name+" "+a.mobile+"</p>";$(".showaddr").html(e)}}})}function i(a){$.ajax({url:"/uc/address/getfare/id/"+a,success:function(a){var e='<span class="text-success">+</span> ￥<span class="text-danger">'+t(a.real_freight)+"</span>";$("#real_freight").html(e);var i="￥"+a.order_amount;$("#order_amount").html(i)}})}if(a){var r=$(".addr-list input:checked").val();e(r),i(r)}$(".addr-list input").on("ifChecked",function(t){var a=$(this).val();e(a),i(a)})}function i(t){var a=[];$.each(t,function(t,e){var i=1==e.is_default?"checked":"",r=1==e.is_default?'<li class="label label-info">默认地址</li>':"",o=0==e.is_default?'<a href="#" class="btn btn-default btn-xs is_d" data-addr-id = "'+e.id+'"><i class="fa fa-check white"></i> 设为默认 </a>':"",n='<div class="icheck addr-list m-b"><div class="item"><input type="radio"  name="address" value="'+e.id+'" '+i+' ><label ><ul class="text-left list-inline list-separator margin-bottom-0">'+r+"<li>"+e.accept_name+"</li><li>"+e.province+"</li><li>"+e.city+"</li><li>"+e.county+"</li><li>"+e.addr+"</li><li>"+e.mobile+'</li></ul></label></div> <div class="item">'+o+' <a  href="/uc/address/editaddrmodal/id/'+e.id+'" class="btn btn-default btn-xs edit"  data-toggle="ajaxModal" ><i class="fa fa-edit white" ></i> 编辑 </a> <a href="#" class="btn btn-default btn-xs del swal"  data-addr-id = "'+e.id+'"><i class="fa fa-times white" ></i> 删除 </a></div></div>';a.push(n)}),$(".addr-box").html(a.join("")),$(".addr-list input").each(function(){var t=$(this),a=t.next(),e=a.html();a.remove(),t.iCheck({checkboxClass:"icheckbox_sm-blue",radioClass:"radio_sm-blue",insert:e})}),e(!0)}var r="php/view/demo.shop.php";jQuery("a.add-wishlist").bind("click",function(t){t.preventDefault();var a=jQuery(this).attr("data-item-id");return!(parseInt(a)<1)&&void $.ajax({url:r,data:{ajax:"true",action:"add_to_wishlist",item_id:a},type:"POST",error:function(t,a,e){_toastr("ERROR 404 - Item Not Added to Wishlit!","top-right","error",!1)},success:function(t){t=t.trim(),"_invalid_id_"==t?_toastr("INVALID ID - Item Not Added to Wishlit!","top-right","error",!1):"_ok_"==t?_toastr("Item Added to Your Wishlit!","top-right","success",!1):_toastr("UNKNOWN ERROR - Item Not Added to Wishlit!","top-right","error",!1)}})}),jQuery("a.add-compare").bind("click",function(t){t.preventDefault();var a=jQuery(this).attr("data-item-id");return!(parseInt(a)<1)&&void $.ajax({url:r,data:{ajax:"true",action:"add_to_compare",item_id:a},type:"POST",error:function(t,a,e){_toastr("ERROR 404 - Item Not Added to Compare List!","top-right","error",!1)},success:function(t){t=t.trim(),"_invalid_id_"==t?_toastr("INVALID ID - Item Not Added to Compare List!","top-right","error",!1):"_ok_"==t?_toastr("Item Added to Your Compare List!","top-right","success",!1):_toastr("UNKNOWN ERROR - Item Not Added to Compare List!","top-right","error",!1)}})}),jQuery("#product-color-dd li a").bind("click",function(t){t.preventDefault();var a=jQuery(this).attr("data-val").trim();_color=jQuery(this).attr("href").trim(),jQuery("#product-selected-color").css({"background-color":_color}),jQuery("#color").val(a)}),jQuery("#product-size-dd li a").bind("click",function(t){t.preventDefault();var a=jQuery(this).attr("data-val").trim();jQuery("#product-selected-size>span").empty().append(a),jQuery("#size").val(a),jQuery("#product-size-dd li").removeClass("active"),jQuery(this).parent().addClass("active")}),jQuery("#product-qty-dd li a").bind("click",function(t){t.preventDefault();var a=jQuery(this).attr("data-val").trim();jQuery("#product-selected-qty>span").empty().append(a),jQuery("#qty").val(a),jQuery("#product-qty-dd li").removeClass("active"),jQuery(this).parent().addClass("active")}),$(".ichecks input").on("ifChecked",function(e){var i=$(this).next("img").attr("data-src");i&&$("figure").find("img").attr("src",i);var r=$(".icheck"),o=$("input[name='product_id']").val(),n=[];if($.each(r,function(t,a){var e=$(this).find("input:radio:checked").val();e&&n.push(e)}),n.length==r.length){var c=a(n);console.log(n),console.log(o),$.ajax({url:"/uc/cart/getstock",data:{id:o,type:n.join(",")},success:function(t){var a="";t<=0?(a='<span class="pull-right text-danger"><i class="glyphicon glyphicon-remove"></i> 无货</span>',$("#stock").html(a),$("#out-of-stock").removeClass("hide"),$("#in-of-stock").addClass("hide")):(a='<span class=" text-success" ><i class="fa fa-check"></i> 有货 <span class="badge badge-aqua btn-xs ">'+t+"</span></span>",$("#stock").html(a),$("#out-of-stock").addClass("hide"),$("#in-of-stock").removeClass("hide"))}}),$("price").text(t(c.sku_price)),$("#type").val(n)}});var o=$("#areas");o.length>0&&$(".add-addr-dialog").on("show.bs.modal",function(){$.ajax({url:"/uc/address/getarea",data:{pid:0},success:function(t){var a=['<option value="">--- 省份/直辖市 ---</option>'];$.each(t,function(t,e){a.push('<option value="'+e.id+'">'+e.name+"</option>")}),province_html=a.join(""),$("#province").html(province_html)}}),$("#province").change(function(t){var a=$("#province option:selected").val();$.ajax({url:"/uc/address/getarea",data:{pid:a},success:function(t){var a=['<option value="">--- 市 ---</option>'];$.each(t,function(t,e){a.push('<option value="'+e.id+'">'+e.name+"</option>")}),province_html=a.join(""),$("#city").html(province_html)}})}),$("#city").change(function(t){var a=$("#city option:selected").val();$.ajax({url:"/uc/address/getarea",data:{pid:a},success:function(t){var a=['<option value="">--- 县/区 ---</option>'];$.each(t,function(t,e){a.push('<option value="'+e.id+'">'+e.name+"</option>")}),province_html=a.join(""),$("#county").html(province_html)}})}),$("form.add-addr").submit(function(t){var a=$(this).serialize();return $.ajax({type:"POST",url:"/uc/address/addaddr",data:a,success:function(t){0==t.errno?(_toastr(t.data.name,"top-right","success",!1),$(".add-addr-dialog").modal("hide"),1==t.data.type?setTimeout(function(){location.reload()},2e3):i(t.data.data)):_toastr(t.errmsg,"top-right","error",!1)}}),!1})}),$(document).on("click","a.is_d",function(t){t.preventDefault();var a=$(this).attr("data-addr-id");$.ajax({url:"/uc/address/addrisdefault",data:{id:a},success:function(t){0==t.errno?(_toastr(t.data.name,"top-right","success",!1),i(t.data.data)):_toastr(t.errmsg,"top-right","error",!1)}})}),$(document).on("change","#province1",function(t){var a=$("#province1 option:selected").val();$.ajax({url:"/uc/address/getarea",data:{pid:a},success:function(t){var a=['<option value="">--- 市 ---</option>'];$.each(t,function(t,e){a.push('<option value="'+e.id+'">'+e.name+"</option>")}),province_html=a.join(""),$("#city1").html(province_html)}})}),$(document).on("change","#city1",function(t){var a=$("#city1 option:selected").val();$.ajax({url:"/uc/address/getarea",data:{pid:a},success:function(t){var a=['<option value="">--- 县/区 ---</option>'];$.each(t,function(t,e){a.push('<option value="'+e.id+'">'+e.name+"</option>")}),province_html=a.join(""),$("#county1").html(province_html)}})}),$(document).on("submit","form.edit-addr",function(t){var a=$(this).serialize();return $.ajax({type:"POST",url:"/uc/address/addaddr",data:a,success:function(t){0==t.errno?(_toastr("编辑收货人地址成功","top-right","success",!1),$("#ajaxModal").modal("hide"),1==t.data.type?setTimeout(function(){location.reload()},2e3):i(t.data.data)):_toastr("编辑失败！","top-right","error",!1)}}),!1}),$(document).on("click","a.del",function(t){t.preventDefault();var a=$(this).attr("data-addr-id");swal({title:"您确定要删除该收货地址吗?",text:"删除收货人信息!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"确定",cancelButtonText:"取消",closeOnConfirm:!1},function(){$.ajax({url:"/uc/address/deladdr",data:{id:a},success:function(t){0==t.errno?(swal(t.data.name,"您选择的地址已经被删除.","success"),i(t.data.data)):swal(t.errmsg,"您选择的地址删除失败.","error")}})})}),e(!1),jQuery("#accountswitch").bind("click",function(){jQuery("#newaccount").slideToggle(200)}),jQuery("#shipswitch").bind("click",function(){jQuery("#shipping").slideToggle(200,function(){jQuery("#shipping").is(":visible")&&_scrollTo("#shipping",150)})}),jQuery("#payment_check").bind("click",function(){jQuery("#ccPayment").slideUp(200)}),jQuery("#payment_card").bind("click",function(){jQuery("#ccPayment").slideDown(200)})}jQuery(document).ready(function(){e()})}});